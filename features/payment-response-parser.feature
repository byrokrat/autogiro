Feature: Payment response parser
  In order to work with the autogiro
  As a user
  I need to be able to parse payment responses

  Scenario: I parse 'new' testfile 'autogiro_exempelfil_bet-spec-o-tk_sv.txt'
    Given a parser that ignores account and id structures
    When I parse:
    """
    01AUTOGIRO              20091110193055123456BET. SPEC & STOPP TK4711170009912346
    15000000000000000000089010032323232322009111000001000000000001500000   00000005
    82200911100    00000000000001010000003000000009912346000000RIDLEKTION          0
    82200911105006 000000000000010200000030000000099123460000000FAKTNR156          0
    82200911105006 000000000000010300000030000000099123460000000FAKTNR157          0
    82200911100    00000000077710140000003000000009912346000000RIDLEKTION          0
    82200911105006 000000000000010500000030000000099123460000000FAKTNR158          0
    82200911100    00000000000001060000003000000009912346000000RIDLEKTION          1
    82200911100    00000000000001070000003000000009912346000000RIDLEKTION          2
    82200911100    00000000022221010000003000000009912346000000RIDLEKTION          9
    16000000000000000000089010032323232322009111000001000000000000300000   00000003
    32200911100    000000000000010900000010000000099123460000000FAKTNR155          0
    32200911100    000000000000011000000010000000099123460000000FAKTNR154          0
    32200911100    000000000000011100000010000000099123460000000FAKTNR153          0
    32200911100    000000003333102200000010000000099123460000000FAKTNR151          1
    17000000000000000000089010032323232322009111000001000000000000020000   00000001
    77200911030    000000000000011400000002000000099123460000000FAKTNR1502009111002
    17000000000000000000089010032323232322009111000001000000000000050000   00000001
    77200911050    000000000000011500000005000000099123460000000FAKTNR1492009111001
    09200911109900000001000000000005000001000000000003000002000000000002
    """
    Then I find a "AutogiroPaymentResponseFile" layout

  Scenario: I parse 'old' testfile 'autogiro_gl_betalningsspec-stoppadebetalningar-tackningskontroll_fran-bankgirot-medgivanden-bankgironummer_exempelfil_sv.txt'
    Given a parser that ignores account and id structures
    When I parse:
    """
    0120041027AUTOGIRO9900                                        4711170009912346
    82200410280    000000000000100100000002430000099123460809001
    82200410280    000000000000100200000003840000099123460809002
    82200410280    000000000000100400000003350000099123460809004
    82200410280    000000000000100500000004620000099123460809005
    82200410280    000000000000100600000001720000099123460809006
    82200410280    000000000000100700000004840000099123460809007
    82200410280    000000000000100800000003140000099123460809008
    82200410280    000000000000100900000001120000099123460809009
    82200410280    000000000000101000000004870000099123460809010
    82200410280    000000000000101100000004340000099123460809011
    82200410280    000000000000101200000003370000099123460809012
    32200410280    000000000000101400000168740000099123460809745                   1
    82200410280    000000000000101300000002530000099123460809013                   1
    82200410280    000000000000101400000009690000099123460809014                   2
    82200410280    000000000000101500000004890000099123460809015                   9
    09200410279900              0000016874000000010000140000000000547500000000000000
    """
    Then I find a "AutogiroPaymentResponseOldFile" layout
